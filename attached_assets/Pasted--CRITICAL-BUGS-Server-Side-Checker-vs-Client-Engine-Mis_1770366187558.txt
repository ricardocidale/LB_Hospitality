  CRITICAL BUGS (Server-Side Checker vs Client Engine Mismatches)                                                                                                                                                                       
                                                                                                                                                                                                                                        
  These are real discrepancies between the client-side financial engine and the server-side independent verification. The server checker (server/calculationChecker.ts) has multiple bugs that would cause false audit failures or false
   passes.

  1. Depreciation excludes land on client but not on server
  - server/calculationChecker.ts:113-114 uses purchasePrice + improvements as depreciation basis
  - client/src/lib/financialEngine.ts:250-252 correctly deducts land: purchasePrice * (1 - landPct) + improvements
  - Impact: Server over-depreciates by ~25% (the default land value percent). Violates IRS Pub 946 / ASC 360 which mandates land is non-depreciable.

  2. Server Net Income formula missing depreciation and income tax
  - server/calculationChecker.ts:241: netIncome = noi - interestExpense
  - client/src/lib/financialEngine.ts:414-416: netIncome = noi - interestExpense - depreciationExpense - incomeTax
  - Impact: Server Net Income is overstated. This cascades into Operating Cash Flow verification (OCF = NI + Dep) which will also be wrong.

  3. Server Cash Flow formula missing income tax
  - server/calculationChecker.ts:242: cashFlow = noi - debtPayment
  - client/src/lib/financialEngine.ts:419: cashFlow = noi - debtPayment - incomeTax
  - Impact: Server cumulative cash flow is overstated, and the cumulative cash flow check (line 502-510) will verify against the wrong values.

  4. Server property value doesn't include land as an asset
  - server/calculationChecker.ts:246: propertyValue = buildingValue - accumulatedDepreciation
  - client/src/lib/financialEngine.ts:411: propertyValue = landValue + buildingValue - accumulatedDepreciation
  - Impact: Property value understated on server. Land is non-depreciable but still an asset on the balance sheet.

  5. Server uses isOperational instead of isAcquired for debt timing
  - server/calculationChecker.ts:228: if (isOperational && property.type === "Financed"...)
  - client/src/lib/financialEngine.ts:378: if (isAcquired && property.type === "Financed")
  - Impact: If a property is acquired before operations start, the server won't compute debt service during that gap period.

  6. Server doesn't use property-level interest rate/term overrides
  - server/calculationChecker.ts:118: loanRate = globalAssumptions.debtAssumptions?.interestRate ?? DEFAULT
  - client/src/lib/financialEngine.ts:259: loanRate = property.acquisitionInterestRate ?? global.debtAssumptions?.interestRate ?? DEFAULT
  - Impact: Properties with custom interest rates or terms will verify against wrong expected values.

  7. Server ADR growth logic differs from client
  - server/calculationChecker.ts:141-143: Compounds from model start, every 12th month index
  - client/src/lib/financialEngine.ts:284-285: Uses Math.pow(1 + rate, opsYear) from operations start
  - Impact: If model starts before operations, ADR will grow during non-operational months on the server but not on the client. The exponent-based approach on the client is also more numerically stable.

  ---
  MATERIAL ISSUES (Hardcoded Values & Formula Problems)

  8. PropertyDetail.tsx:659 - Income statement hardcoded to 10 years
  <YearlyIncomeStatement data={financials} years={10} startYear={getFiscalYear(0)} />
  Should be years={projectionYears}. The cash flow statement on line 757 correctly uses years={projectionYears}.

  9. Multiple chart titles hardcoded to "10-Year"
  - PropertyDetail.tsx:578: "Income Statement Trends (10-Year Projection)"
  - PropertyDetail.tsx:358-361: '10-Year Revenue, NOI, and Cash Flow Trend'
  - PropertyDetail.tsx:369: "Financial Performance (10-Year Projection)"
  - Should use template literals with projectionYears.

  10. Sale proceeds classified under Financing instead of Investing (GAAP)
  - YearlyCashFlowStatement.tsx:313-314: Exit value included in cashFromFinancing
  - Per ASC 360/ASC 230, property sale proceeds should be classified as Investing activities, not Financing.

  11. Cash-on-Cash return includes refinancing proceeds
  - Dashboard.tsx:455-461: operatingCashFlows only strips exit value but not refinancing proceeds
  - Refinancing cash-out is a capital event, not operating income. Including it inflates the average annual cash flow and thus the Cash-on-Cash metric.

  12. Dashboard InvestmentAnalysis re-declares DEPRECIATION_YEARS locally
  - Dashboard.tsx:3083: const DEPRECIATION_YEARS = 27.5;
  - This shadows the imported constant. If the shared constant ever changes, this won't track.

  13. CSV export doesn't include exit value in CFF subtotal
  - PropertyDetail.tsx:148-151: cffData computes loanProceeds - principalPayment + refinancingProceeds but omits exitValue
  - The "Sale Proceeds" row (line 197) is displayed but not added to the subtotal
  - Impact: CFO + CFI + CFF won't reconcile with the Net Change row in the final year.

  ---
  IRR CALCULATION REVIEW

  The Newton-Raphson implementation (Dashboard.tsx:3034-3062) is mathematically correct but has robustness gaps:

  - NPV formula: Correct - CF[t] / (1+r)^t
  - Derivative: Correct - -t * CF[t] / (1+r)^(t+1)
  - Lower bound guard: Has if (rate < -1) rate = -0.99 - good
  - Missing upper bound guard: No protection against rate growing to +Infinity
  - Missing NaN/Infinity check: After rate = rate - npv / derivNpv, if derivNpv is very small, rate could become NaN or Infinity
  - Single initial guess: 0.1 works for typical positive-return scenarios but may find the wrong root for cash flows with multiple sign changes (e.g., properties with large mid-period capital events)

  Recommendation: Add if (!isFinite(rate)) break; and consider a bisection fallback.

  ---
  MISSING METRICS / CALCULATIONS
  ┌────────────────────────┬────────────────────────────────────────────┬───────────────────────────────────────────┐
  │     Missing Metric     │                Description                 │             Industry Standard             │
  ├────────────────────────┼────────────────────────────────────────────┼───────────────────────────────────────────┤
  │ Going-In Cap Rate      │ Year 1 NOI / Purchase Price                │ Standard acquisition metric               │
  ├────────────────────────┼────────────────────────────────────────────┼───────────────────────────────────────────┤
  │ ROI                    │ (Total Gain - Total Cost) / Total Cost     │ Different from equity multiple            │
  ├────────────────────────┼────────────────────────────────────────────┼───────────────────────────────────────────┤
  │ Break-Even Occupancy   │ Occupancy at which NOI = 0                 │ Lender underwriting metric                │
  ├────────────────────────┼────────────────────────────────────────────┼───────────────────────────────────────────┤
  │ Break-Even ADR         │ ADR at which NOI = 0                       │ Sensitivity analysis                      │
  ├────────────────────────┼────────────────────────────────────────────┼───────────────────────────────────────────┤
  │ Yield on Cost          │ Stabilized NOI / Total Project Cost        │ Development metric                        │
  ├────────────────────────┼────────────────────────────────────────────┼───────────────────────────────────────────┤
  │ Sensitivity Tables     │ Impact of varying ADR, occupancy, cap rate │ Standard in investment memos              │
  ├────────────────────────┼────────────────────────────────────────────┼───────────────────────────────────────────┤
  │ Working Capital        │ Changes in AR/AP during ramp-up            │ Hardcoded to 0 in loanCalculations.ts:439 │
  ├────────────────────────┼────────────────────────────────────────────┼───────────────────────────────────────────┤
  │ Year-by-Year Valuation │ Annual NOI / Cap Rate                      │ Portfolio value tracking                  │
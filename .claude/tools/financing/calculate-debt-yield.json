{
  "name": "calculate_debt_yield",
  "description": "Calculate debt yield (NOI / Loan Amount) and reverse-solve for the maximum supportable loan given a minimum debt yield threshold. Debt yield is a lender metric that measures cash flow coverage independent of interest rate, term, or amortization — useful for comparing across different financing structures. Optionally cross-checks against an LTV constraint.",
  "input_schema": {
    "type": "object",
    "properties": {
      "noi_annual": {
        "type": "number",
        "description": "Annual Net Operating Income in dollars"
      },
      "loan_amount": {
        "type": "number",
        "description": "Loan amount to compute debt yield for (optional — omit to only size max loan)"
      },
      "min_debt_yield": {
        "type": "number",
        "description": "Minimum acceptable debt yield as decimal (e.g. 0.08 = 8%)"
      },
      "purchase_price": {
        "type": "number",
        "description": "Purchase price for LTV cross-check"
      },
      "ltv_max": {
        "type": "number",
        "description": "Maximum LTV for cross-check as decimal (e.g. 0.75 = 75%)"
      }
    },
    "required": ["noi_annual"]
  }
}
